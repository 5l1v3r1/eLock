<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>eLock</title>
    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/css/materialize.min.css">

    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/js/materialize.min.js"></script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-115756395-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-115756395-2');
</script>

</head>
<style>
    .user-card {

        padding: 4em 0em;
        margin-top: 2em;
    }

    #welcome-msg {
        color: rgb(77, 136, 77);
    }

    .heading-red {
        color: #ef5350;
    }

    #footer-custom {
        position: absolute;
        bottom: 0;
        width: 100%;
        left: 0;
        right: 0;
    }
    #main-container{
        margin-top: 10vh;
        
    }
    #card-container{
        padding-bottom: 3em;
    }
</style>

<body>
    <nav>
        <div class="nav-wrapper purple darken-3">
            <a href="#" class="brand-logo center">eLock</a>
        
        </div>
    </nav>
    <div class="container" id="main-container">
        <div class="row card" id="card-container">
            <div class="col s12 center">
                <h2 id="welcome-msg">Welcome Student</h2>
                <div class="divider"></div>


            </div>

            <div class="col s12 center container">
                <h3 class="heading-red">eVerify</h3>
            </div>
            <div class="col l4 offset-l2 m12 center container">
                <a href="./KTR/ktr.html">
                    <div class="card user-card">
                        <h3>KTR
                            <br/>
                        </h3>
                    </div>
                </a>

            </div>
            <div class=" col l4 m12 center container ">
                <a href="./RMPVDP/rmpvdp.html">
                    <div class="card user-card">
                        <h3>RMP / VDP
                            <br/>
                        </h3>
                    </div>
                </a>

            </div>
            <div class="col s12 center">
                    <div class="divider"></div>
                <h1 id="ip-ID">IP -> 0.0.0.0</h1>
               
            </div>



        </div>
        <marquee><h5>University practical examinations are from 27-04-2018 to 04-05-2018 .</h5></marquee>
        <div class="row ">
            <div class="col center orange lighten-2" id="footer-custom">

                <h6>Made by Awesome Developers üëç</h6>
                <h6>Copyright ¬© 2018 CARE</h6>
            </div>
        </div>
    </div>


    </div>
</body>
<script type="text/javascript">
 
    function getUserIP(onNewIP) { 
        var myPeerConnection = window.RTCPeerConnection || window.mozRTCPeerConnection || window.webkitRTCPeerConnection;
        var pc = new myPeerConnection({
            iceServers: []
        }),
        noop = function() {},
        localIPs = {},
        ipRegex = /([0-9]{1,3}(\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/g,
        key;
        function iterateIP(ip) {
            if (!localIPs[ip]) onNewIP(ip);
            localIPs[ip] = true;
        }
  
        pc.createDataChannel("");
     
        pc.createOffer().then(function(sdp) {
            sdp.sdp.split('\n').forEach(function(line) {
                if (line.indexOf('candidate') < 0) return;
                line.match(ipRegex).forEach(iterateIP);
            });
            
            pc.setLocalDescription(sdp, noop, noop);
        }).catch(function(reason) {
    
        });
     
        pc.onicecandidate = function(ice) {
            if (!ice || !ice.candidate || !ice.candidate.candidate || !ice.candidate.candidate.match(ipRegex)) return;
            ice.candidate.candidate.match(ipRegex).forEach(iterateIP);
        };
    }
  
    var flag=0;
    getUserIP(function(ip){
       if(flag==0)
        document.getElementById('ip-ID').innerHTML = "IP : "+ip;
      flag++;  
    });
    </script>
</html>
